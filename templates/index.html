<!DOCTYPE html>
<html>
<head>
	<title>Jeopardy</title>
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.2.6/jquery.js"
        type="text/javascript"></script>
     <link href="http://getbootstrap.com/dist/css/bootstrap.min.css" rel="stylesheet">
     <link href="http://getbootstrap.com/examples/jumbotron-narrow/jumbotron-narrow.css" rel="stylesheet">

</head>
<body>
	 <div class="jumbotron">
        <h1>Verkefni 5</h1>
         <div id='answerBox'></div>
        <button id="randomBtn" class="btn btn-lg btn-primary btn-block" type="button">Get Categories</button>
      </form>
      </div>

	<script>
		$(function() {
			//Random question
			$('#randomBtn').click(function() {
		        $.ajax({
		            url: '/getCategories',
		            data: $('form').serialize(),
		            dataType: 'json',
		            type: 'GET',
		            success: function(response) {
		            	for(i = 0; i < response.length; i++) {
		            		$('#answerBox').append('<button onclick="category(' + response[i]['id'] + ')" " class="btn btn-lg btn-primary btn-block" type="button">' + response[i]['title'] + '</button>')
		            	}
		            	//$('#answerBox').html('<p>' + response['question'] + '</p>'+ '<label for="inputAnswer" class="sr-only">Password</label><input type="text" name="inputAnswer" id="inputAnswer" class="form-control" placeholder="Your Answer" required>  <p>  ' + response['answer'] + '</p>')
		                console.log(response);
		            },
		            error: function(error) {
		                console.log(error);
		            }	
        		});
			})

		});

		function category(catID) {
			$.ajax({
				url:'/getCategory',
				data : {'data':catID}, 
				dataType: 'json',
  				type: 'GET',	
				success: function(response) {
					console.log(response['clues'])
					$('#answerBox').html('');
					for (i = 0; i < response['clues'].length;i++) {
						$('#answerBox').append('<p>' + response['clues'][i]['question'] + '</p>');
					}
				},
				error: function(error) {
					console.log(error)
				}
			});
		};
	</script>
</body>
</html>


